<?xml version="1.0" encoding="UTF-8"?>
<!--
	!
	! Copyright 2006 The Apache Software Foundation.
	!
	! Licensed under the Apache License, Version 2.0 (the "License");
	! you may not use this file except in compliance with the License.
	! You may obtain a copy of the License at
	!
	!      http://www.apache.org/licenses/LICENSE-2.0
	!
	! Unless required by applicable law or agreed to in writing, software
	! distributed under the License is distributed on an "AS IS" BASIS,
	! WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	! See the License for the specific language governing permissions and
	! limitations under the License.
	!-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.apache.axis2</groupId>
		<artifactId>axis2-parent</artifactId>
		<version>1.2-SNAPSHOT</version>
		<relativePath>../parent/pom.xml</relativePath>
	</parent>
	<artifactId>axis2-jaxws</artifactId>
	<name>Apache Axis 2.0 - JAXWS</name>
	<description>Axis2 JAXWS Implementation</description>
	<dependencies>
		<dependency>
			<groupId>org.apache.axis2</groupId>
			<artifactId>axis2-kernel</artifactId>
			<version>${version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.axis2</groupId>
			<artifactId>axis2-jaxws-api</artifactId>
			<version>${version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.axis2</groupId>
			<artifactId>axis2-saaj-api</artifactId>
			<version>${version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.axis2</groupId>
			<artifactId>axis2-adb</artifactId>
			<version>${version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.axis2</groupId>
			<artifactId>axis2-saaj</artifactId>
			<version>${version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.axis2</groupId>
			<artifactId>axis2-metadata</artifactId>
			<version>${version}</version>
		</dependency>
		<dependency>
			<groupId>javax.xml.bind</groupId>
			<artifactId>jaxb-api</artifactId>
		</dependency>
		<dependency>
			<groupId>com.sun.xml.bind</groupId>
			<artifactId>jaxb-impl</artifactId>
			<exclusions>
				<exclusion>
					<artifactId>jsr173</artifactId>
					<groupId>javax.xml</groupId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>com.sun.xml.bind</groupId>
			<artifactId>jaxb-xjc</artifactId>
		</dependency>
		<dependency>
			<groupId>xalan</groupId>
			<artifactId>xalan</artifactId>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>servlet-api</artifactId>
		</dependency>
		<dependency>
			<groupId>javax.xml.bind</groupId>
			<artifactId>jaxb-api</artifactId>
			<exclusions>
				<exclusion>
					<artifactId>jsr173</artifactId>
					<groupId>javax.xml</groupId>
				</exclusion>
			</exclusions>
		</dependency>
	</dependencies>
	<build>
		<sourceDirectory>src</sourceDirectory>
		<testSourceDirectory>test</testSourceDirectory>
		<resources>
			<resource>
				<directory>conf</directory>
				<includes>
					<include>**/*.properties</include>
				</includes>
			</resource>
			<resource>
				<directory>src</directory>
				<includes>
					<include>**/*.properties</include>
					<include>**/*.xml</include>
				</includes>
			</resource>
			<resource>
				<directory>resources</directory>
				<includes>
					<include>**/*</include>
				</includes>
			</resource>
		</resources>
		<testResources>
			<testResource>
				<directory>test</directory>
				<includes>
					<include>**/*.xml</include>
					<include>**/*.wsdl</include>
					<include>**/*.properties</include>
				</includes>
			</testResource>
		</testResources>
		<plugins>
			<plugin>
				<artifactId>maven-compiler-plugin</artifactId>
				<inherited>true</inherited>
				<configuration>
					<source>1.5</source>
					<target>1.5</target>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-antrun-plugin</artifactId>
				<executions>
					<execution>
						<id>gen-ts</id>
						<phase>generate-test-sources</phase>
						<configuration>
							<tasks>
								<!-- Theres got to be a better way to do this -->
								<property name="schema.source.dir" value="test-resources/xsd"/>
								<property name="wsdl.source.dir" value="test-resources/wsdl"/>
								<property name="schema.output.base.dir" value="target/schema"/>
								<property name="schema.generated.src.dir" value="${schema.output.base.dir}/src"/>
								<property name="schema.generated.classes.dir" value="${schema.output.base.dir}/classes"/>
								<!-- make the dirs -->
								<mkdir dir="${schema.output.base.dir}"/>
								<mkdir dir="${schema.generated.src.dir}"/>
								<mkdir dir="${schema.generated.classes.dir}"/>
								<!-- Run JAXB schema compiler with designated schemas -->
								<echo>Generating JAX-B classes from XSDs</echo>
								<echo>Generating java from soap 11</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet  ${schema.source.dir}/soap11.xsd"/>
								</java>
								<echo>Generating java from echo.xsd</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet  ${schema.source.dir}/echo.xsd"/>
								</java>
								<echo>Generating java from stock1.xsd</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet ${schema.source.dir}/stock1.xsd"/>
								</java>
								<echo>Generating java from stock2.xsd</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet ${schema.source.dir}/stock2.xsd"/>
								</java>
								<echo>Generating java from samplemtom.xsd</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet ${schema.source.dir}/samplemtom.xsd"/>
								</java>
								<echo>Generating java from ProxyDocLitWrapped.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -p org.test.proxy.doclitwrapped -quiet -wsdl ${wsdl.source.dir}/ProxyDocLitWrapped.wsdl"/>
								</java>
								<echo>Generating java from ProxyDocLitnonWrapped.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/ProxyDocLitnonWrapped.wsdl"/>
								</java>
								<echo>Generating java from samplemtomjpeg.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/samplemtomjpeg.wsdl"/>
								</java>
								<echo>Generating java from RPCLit.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -p org.test.proxy.rpclit -quiet -wsdl ${wsdl.source.dir}/RPCLit.wsdl"/>
								</java>
								<echo>Generating java from gorilla_dlw.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/gorilla_dlw.wsdl"/>
								</java>
								<echo>Generating java from SOAP12Echo.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/SOAP12Echo.wsdl"/>
								</java>
								<echo>Generating java from AddNumbers.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/AddNumbers.wsdl"/>
								</java>
    	<echo>Generating java from AddNumbersHandler.wsdl</echo>
    	<java classname="com.sun.tools.xjc.Driver" fork="true"> 
    	    <classpath refid="maven.runtime.classpath"/>
    	    <classpath location="${compiled.classes.dir}"/>
    	   	<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/AddNumbersHandler.wsdl"/>
    	</java>
								<echo>Generating java from async_doclitwr.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/async_doclitwr.wsdl"/>
								</java>
								<echo>Generating java from FaultyWebService.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/FaultyWebService.wsdl"/>
								</java>
								<echo>Generating java from FaultsService.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/FaultsService.wsdl"/>
								</java>
								<echo>Generating java from jaxbsource</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -p org.test.dispatch.jaxbsource ${schema.source.dir}/jaxbsource.xsd"/>
								</java>
								<echo>Generating java from doclit_nonwrap.wsdl for javabean endpoint
                                    support</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/doclit_nonwrap.wsdl"/>
								</java>
								<echo>Generating java from doclitwrap.wsdl for javabean endpoint
                                    support</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/doclitwrap.wsdl"/>
								</java>
								<echo>Generating java from doclitbare.wsdl for javabean endpoint
                                    support</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/doclitbare.wsdl"/>
								</java>
								<echo>Generating java from greeterTypes.xsd</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet ${schema.source.dir}/greeterTypes.xsd"/>
								</java>
								<echo>Generating java from EchoMessage.wsdl for javabean endpoint
                                    support</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/EchoMessage.wsdl"/>
								</java>
								<echo>Generating java from resourceinjection.wsdl for javabean
                                    endpoint Resource Injection support</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/resourceinjection.wsdl"/>
								</java>
								<echo>Generating java from AnyType.wsdl for javabean endpoint
                                    AnyType support</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/AnyType.wsdl"/>
								</java>
								<echo>Generating java from WSDLMultiTests.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/WSDLMultiTests.wsdl"/>
								</java>
								<echo>Generating java from Polymorphic shapes.wsdl for javabean
                                    endpoint support</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/shapes.wsdl"/>
								</java>
								<echo>Generating java from SOAPActionTest.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/SOAPActionTest.wsdl"/>
								</java>
								<echo>Generating java from rpclitenum.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/rpclitenum.wsdl"/>
								</java>
								<echo>Generating java from AddNumbersHandler.wsdl</echo>
								<java classname="com.sun.tools.xjc.Driver" fork="true">
									<classpath refid="maven.runtime.classpath"/>
									<classpath location="${compiled.classes.dir}"/>
									<arg line="-d ${schema.generated.src.dir} -quiet -wsdl ${wsdl.source.dir}/AddNumbersHandler.wsdl"/>
								</java>
							</tasks>
						</configuration>
						<goals>
							<goal>run</goal>
						</goals>
					</execution>
					<execution>
						<id>build-repo</id>
						<phase>test-compile</phase>
						<configuration>
							<tasks>
								<copy toDir="target/test-classes/services/EchoService/">
									<fileset dir="target/test-classes">
										<include name="server/**"/>
									</fileset>
									<fileset dir="test/server">
										<exclude name="**/*.java"/>
									</fileset>
								</copy>
								<!-- ================================================================ -->
								<!--- Provider endpoint Service Samples -->
								<!-- ================================================================ -->
								<copy toDir="target/test-classes/services/WSGenService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/wsgen/WSGenInterface.class"/>
										<include name="org/apache/axis2/jaxws/sample/wsgen/WSGenImpl.class"/>
										<include name="org/apache/axis2/jaxws/sample/wsgen/jaxws/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/wsgen">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/BasicAuthSecurityService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/security/server/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/security/server">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/StringProviderService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/provider/string/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/provider/string">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/StringMessageProviderService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/provider/stringmsg/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/provider/stringmsg">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/SourceProviderService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/provider/source/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/provider/source">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/SourceMessageProviderService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/provider/sourcemsg/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/provider/sourcemsg">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/SoapMessageProviderService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/provider/soapmsg/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/provider/soapmsg">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/JAXBProviderService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/provider/jaxb/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/provider/jaxb">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
									<fileset dir="target/schema/classes">
										<include name="org/test/mtom/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/SendImageService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/mtom1/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/mtom1">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
									<fileset dir="target/schema/classes">
										<include name="org/apache/axis2/jaxws/sample/mtom1/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/SOAP12Service/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/dispatch/server/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/dispatch/server">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<!-- ================================================================ -->
								<!--- Proxy endpoint Service Samples -->
								<!-- ================================================================ -->
								<copy toDir="target/test-classes/services/ProxyDocLitWrapped/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/proxy/doclitwrapped/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/proxy/doclitwrapped">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/ProxyDocLitnonWrapped/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/proxy/doclitnonwrapped/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/proxy/doclitnonwrapped">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/RPCLit/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/proxy/rpclit/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/proxy/rpclit">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/SOAP12EchoService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/proxy/soap12/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/proxy/soap12/server">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/BookStoreService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/client/soapaction/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/client/soapaction/server">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/gorilla_dlw/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/proxy/gorilla_dlw/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/proxy/gorilla_dlw">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<!-- ================================================================ -->
								<!--- XML HTTP Tests -->
								<!-- ================================================================ -->
								<copy toDir="target/test-classes/services/XPayloadStringProvider/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/xmlhttp/provider/payload/string/*.class"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/xmlhttp/provider/payload/string">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/XMessageStringProvider/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/xmlhttp/provider/message/string/*.class"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/xmlhttp/provider/message/string">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/XPayloadSourceProvider/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/xmlhttp/provider/payload/source/*.class"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/xmlhttp/provider/payload/source">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/XMessageSourceProvider/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/xmlhttp/provider/message/source/*.class"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/xmlhttp/provider/message/source">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/XMessageDataSourceProvider/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/xmlhttp/provider/message/datasource/*.class"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/xmlhttp/provider/message/datasource">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<!-- ================================================================ -->
								<!--- Java Bean Endpoint Samples -->
								<!-- ================================================================ -->
								<copy toDir="target/test-classes/services/AddressBookService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/addressbook/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/addressbook">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/MtomSampleService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/mtom/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/mtom">
										<include name="META-INF/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/DocLitNonWrapService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/nonwrap/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/nonwrap">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/DocLitWrapService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/wrap/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/wrap">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/AddNumbersService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/addnumbers/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/addnumbers">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/AddNumbersHandlerService/">
									<fileset dir="target/test-classes">
									   <include name="org/apache/axis2/jaxws/sample/addnumbershandler/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/addnumbershandler">
									   <include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
									   <include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/GreeterService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/dlwmin/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/dlwmin">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/AsyncService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/parallelasync/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/parallelasync/server">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/FaultyWebServiceService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/faults/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/faults">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/FaultsService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/faultsservice/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/faultsservice">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/BareDocLitService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/sample/doclitbare/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/sample/doclitbare">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/EchoMessageService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/nonanonymous/complextype/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/nonanonymous/complextype">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/ResourceInjectionService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/resourceinjection/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/resourceinjection">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/AnyTypeMessageService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/anytype/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/anytype">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/PolymorphicShapeService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/polymorphic/shape/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/polymorphic/shape">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/services/RPCLitEnumService/">
									<fileset dir="target/test-classes">
										<include name="org/apache/axis2/jaxws/rpclit/enumtype/**"/>
									</fileset>
									<fileset dir="test/org/apache/axis2/jaxws/rpclit/enumtype">
										<include name="META-INF/**"/>
									</fileset>
									<fileset dir="target/classes">
										<include name="org/apache/axis2/jaxws/server/**"/>
									</fileset>
								</copy>
								<copy toDir="target/test-classes/">
									<fileset dir="test-resources/">
										<include name="**/*.properties"/>
									</fileset>
								</copy>
							</tasks>
						</configuration>
						<goals>
							<goal>run</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>build-helper-maven-plugin</artifactId>
				<executions>
					<execution>
						<id>add-test-source</id>
						<phase>process-test-resources</phase>
						<goals>
							<goal>add-test-source</goal>
						</goals>
						<configuration>
							<sources>
								<source>${basedir}/target/schema/src</source>
							</sources>
						</configuration>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<artifactId>maven-surefire-plugin</artifactId>
				<inherited>true</inherited>
				<configuration>
					<skip>false</skip>
					<forkMode>once</forkMode>
					<argLine>-Xms256m -Xmx512m</argLine>
					<!-- Enable the next 2 lines if you want to attach a debugger
                    <argLine>-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5006</argLine>-->
					<includes>
						<include>**/*Test.java</include>
					</includes>
					<systemProperties>
						<property>
							<name>build.repository</name>
							<value>./target/test-classes</value>
						</property>
					</systemProperties>
				</configuration>
			</plugin>
		</plugins>
	</build>
	<reporting>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-surefire-report-plugin</artifactId>
			</plugin>
		</plugins>
	</reporting>
</project>

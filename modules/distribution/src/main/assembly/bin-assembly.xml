<assembly>
    <id>bin</id>
    <includeBaseDirectory>true</includeBaseDirectory> 
    <baseDirectory>axis2-${version}</baseDirectory>
    <formats>
	<!--<format>tar.gz</format>  //uncomment,if tar.gz archive needed-->
        <format>zip</format>
    </formats>


    <fileSets>
        <!--********************** creating the repository ********************** -->
        <!-- copy the soapmonitor mar -->
        <fileSet>
            <directory>../../modules/soapmonitor/target</directory>
            <outputDirectory>repository/modules</outputDirectory>
            <includes>
                <include>soapmonitor-${version}.mar</include>
            </includes>
        </fileSet>
        <!-- copy the addressing mar -->
        <fileSet>
            <directory>../../modules/addressing/target</directory>
            <outputDirectory>repository/modules</outputDirectory>
            <includes>
                <include>addressing-${version}.mar</include>
            </includes>
        </fileSet>
        <!-- copy the ping mar -->
        <fileSet>
            <directory>../../modules/ping/target</directory>
            <outputDirectory>repository/modules</outputDirectory>
            <includes>
                <include>ping-${version}.mar</include>
            </includes>
        </fileSet>
        <!-- copy the mex mar -->
        <fileSet>
            <directory>../../modules/mex-mar/target</directory>
            <outputDirectory>repository/modules</outputDirectory>
            <includes>
                <include>mex-${version}.mar</include>
            </includes>
        </fileSet>

        <!-- copy the sample services -->
        <fileSet>
            <directory>../../modules/samples/target/toWar/services</directory>
            <outputDirectory>repository/services</outputDirectory>
            <includes>
                <include>version.aar</include>
            </includes>
        </fileSet>

        <!--********************** creating the bin ********************** -->
        <!-- Copy bin scripts -->
        <fileSet>
            <directory>../../modules/tool/script</directory>
            <outputDirectory>bin</outputDirectory>
            <includes>
                <include>*</include>
            </includes>
        </fileSet>


        <!--********************** creating the conf ********************** -->
        <!-- copy the axis2.xml into conf directoy -->
        <fileSet>
            <directory>../../modules/kernel/conf</directory>
            <outputDirectory>conf</outputDirectory>
            <includes>
                <include>axis2.xml</include>
            </includes>
        </fileSet>

        <!--********************** creating the webappp ********************** -->
        <!-- copy the web.xml into webapp/WEB-INF directory -->

        <fileSet>
            <directory>../../modules/webapp/conf</directory>
            <outputDirectory>webapp/WEB-INF</outputDirectory>
            <includes>
                <include>web.xml</include>
            </includes>
        </fileSet>


        <!-- copy the build.xml into webapp directory -->
        <fileSet>
            <directory>../../modules/webapp/scripts</directory>
            <outputDirectory>webapp</outputDirectory>
            <includes>
                <include>build.xml</include>
            </includes>
        </fileSet>


        <!-- copy *.properties to webapp/WEB-INF/classes directory -->
        <fileSet>
            <directory>../../modules/kernel/conf</directory>
            <outputDirectory>webapp/WEB-INF/classes</outputDirectory>
            <includes>
                <include>*.properties</include>
            </includes>
        </fileSet>


        <!-- copy contents of the webapp module -->
        <fileSet>
            <directory>../../modules/webapp/src/main/webapp</directory>
            <outputDirectory>webapp</outputDirectory>
            <excludes>
                <exclude>project.xml</exclude>
                <exclude>**/*.iml</exclude>
                <exclude>**/.*</exclude>
                <exclude>**/conf/**</exclude>
                <exclude>**/scripts/**</exclude>
            </excludes>
        </fileSet>

        <fileSet>
            <directory>../../modules/webapp/src/main/webapp</directory>
            <outputDirectory>webapp</outputDirectory>
            <excludes>
                <exclude>project.xml</exclude>
                <exclude>**/*.iml</exclude>
                <exclude>**/.*</exclude>
                <exclude>**/conf/**</exclude>
                <exclude>**/scripts/**</exclude>
            </excludes>
        </fileSet>


        <fileSet>
            <directory>../../modules/java2wsdl/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-java2wsdl-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/kernel/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-kernel-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/adb/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-adb-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/codegen/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-codegen-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/adb-codegen/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-adb-codegen-${version}.jar</include>
            </includes>
        </fileSet>

        <fileSet>
            <directory>../../modules/xmlbeans/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-xmlbeans-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/jibx/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-jibx-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/json/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-json-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/tools/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-tools-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/spring/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-spring-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/soapmonitor/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-soapmonitor-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/fastinfoset/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-fastinfoset-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/jaxbri/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-jaxbri-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/jaxws/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-jaxws-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/jaxws-api/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-jaxws-api-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/metadata/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-metadata-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/saaj/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-saaj-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/saaj-api/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-saaj-api-${version}.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../../modules/xmlbeans/target</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>axis2-xmlbeans-${version}.jar</include>
            </includes>
        </fileSet>

        <fileSet>
            <directory>../../legal</directory>
            <outputDirectory>lib</outputDirectory>
            <includes>
                <include>**/*.txt</include>
            </includes>
        </fileSet>

		<!-- TODO: Need to rename this file to INSTALL.txt -->
		<fileSet>
            <directory>../../release-docs/readme-files/</directory>
            <outputDirectory></outputDirectory>
            <includes>
                <include>installation-std-bin.txt</include>
            </includes>
		</fileSet>

		<!-- TODO: Need to add filters to update the version strings within the files -->
		<fileSet>
            <directory>../../</directory>
            <outputDirectory></outputDirectory>
            <includes>
                <include>LICENSE.txt</include>
                <include>NOTICE.txt</include>
                <include>README.txt</include>
                <include>release-notes.html</include>
            </includes>
		</fileSet>

        <!-- copy samples -->
        <fileSet>
            <directory>../../modules/samples</directory>
            <outputDirectory>samples</outputDirectory>
            <includes>
				<include>databinding/**/*</include>
				<include>eventing/**/*</include>
				<include>faulthandling/**/*</include>
				<include>googlespellcheck/**/*</include>
				<include>jaxws-calculator/**/*</include>
				<include>jms/**/*</include>
				<include>mex/**/*</include>
				<include>mtom/**/*</include>
				<include>ping/**/*</include>
				<include>pojo/**/*</include>
				<include>pojoguide/**/*</include>
				<include>pojoguidespring/**/*</include>
				<include>quickstart/**/*</include>
				<include>quickstartadb/**/*</include>
				<include>quickstartaxiom/**/*</include>
				<include>quickstartjibx/**/*</include>
				<include>quickstartxmlbeans/**/*</include>
				<include>security/**/*</include>
				<include>servicelifecycle/**/*</include>
				<include>soapwithattachments/**/*</include>
				<include>userguide/**/*</include>
				<include>version/**/*</include>
				<include>wsdl/**/*</include>
				<include>yahoojsonsearch/**/*</include>
				<include>yahoorestsearch/**/*</include>            
            </includes>
        </fileSet>
        <!-- TODO: generate modules.list in repository/modules -->
        <!-- TODO: generate services.list in repository/services -->
    </fileSets>
    
      <dependencySets>
        <dependencySet>
          <outputDirectory>lib</outputDirectory>

            <excludes>
                 <exclude>mx4j:mx4j-jmx:jar</exclude>
                 <exclude>mx4j:mx4j-impl:jar</exclude>
                 <exclude>mx4j:mx4j-remote:jar</exclude>
                 <exclude>mx4j:mx4j-tools:jar</exclude>
                 <exclude>mx4j:mx4j:jar</exclude>
                 <exclude>rome:rome:jar</exclude>
                 <exclude>org.apache.geronimo.specs:geronimo-activation_1.1_spec:jar</exclude>
                 <exclude>org.apache.geronimo.specs:geronimo-annotation_1.0_spec:jar</exclude>
                 <exclude>org.apache.geronimo.specs:geronimo-j2ee-connector_1.5_spec:jar</exclude>
                 <exclude>org.apache.geronimo.specs:geronimo-j2ee-jacc_1.0_spec:jar</exclude>
                 <exclude>org.apache.geronimo.specs:geronimo-j2ee-management_1.0_spec:jar</exclude>
                 <exclude>org.apache.geronimo.specs:geronimo-javamail_1.4_spec:jar</exclude>
<!--
                 <exclude>org.apache.geronimo.specs:geronimo-jms_1.1_spec:jar</exclude>
-->
                 <exclude>org.apache.geronimo.specs:geronimo-jsp_2.0_spec:jar</exclude>
                 <exclude>org.apache.activemq:activemq-console:jar</exclude>
                 <exclude>org.apache.activemq:activemq-core:jar</exclude>
                 <exclude>org.apache.activemq:activemq-jaas:jar</exclude>
                 <exclude>org.apache.activemq:activemq-optional:jar</exclude>
                 <exclude>org.apache.activemq:activemq-optional:jar</exclude>
                 <exclude>org.apache.activemq:activemq-web:jar</exclude>
                 <exclude>org.apache.activemq:activemq:jar</exclude>
                 <exclude>org.apache.activemq:activemq-web-demo:war</exclude>
                 <exclude>xstream:xstream:jar</exclude>
                 <exclude>xom:xom:jar</exclude>
                 <exclude>xmlpull:xmlpull:jar</exclude>
                 <exclude>xerces:xmlParserAPIs:jar</exclude>
                 <exclude>org.apache.xbean:xbean-spring:jar</exclude>
                 <exclude>org.apache.tomcat:tribes:jar</exclude>
                 <exclude>org.springframework:spring:jar</exclude>	
                 <exclude>org.springframework:spring-beans:jar</exclude>
                 <exclude>org.springframework:spring-context:jar</exclude>	
                 <exclude>org.springframework:spring-core:jar</exclude>	
                 <exclude>org.springframework:spring-web:jar</exclude>	
                 <exclude>logkit:logkit:jar</exclude>	
                 <exclude>org.apache.tomcat:juli:jar</exclude>	
                 <exclude>javax.xml.bind:jsr173_api:jar</exclude>	
                 <exclude>jrms:jrms:jar</exclude>	
                 <exclude>activemq:jmdns:jar</exclude>	
                 <exclude>org.mortbay.jetty:jetty:jar</exclude>	
                 <exclude>org.mortbay.jetty:jetty-util:jar</exclude>	
                 <exclude>jdom:jdom:jar</exclude>
                 <exclude>jakarta-regexp:jakarta-regexp:jar</exclude>
                 <exclude>com.ibm.icu:icu4j:jar</exclude>
                 <exclude>org.apache.bcel:bcel:jar</exclude>	
                 <exclude>org.apache.activemq:activeio-core:jar</exclude>
                 <exclude>org.apache.ant:ant:jar</exclude>
                 <exclude>org.apache.ant:ant-launcher:jar</exclude>
                 <exclude>aopalliance:aopalliance:jar</exclude>
                 <exclude>org.apache.activemq:apache-activemq:jar</exclude>
                 <exclude>avalon-framework:avalon-framework:jar</exclude>
                 <exclude>axis:axis:jar</exclude>
                 <exclude>bsf:bsf:jar</exclude>
                 <exclude>commons-beanutils:commons-beanutils:jar</exclude>
                 <exclude>commons-collections:commons-collections:jar</exclude>
                 <exclude>commons-pool:commons-pool:jar</exclude>
                 <exclude>dom4j:dom4j:jar</exclude>
                 <exclude>com.sun.xml.fastinfoset:FastInfoset:jar</exclude>
                 <exclude>activesoap:jaxp-api:jar</exclude>
                 <exclude>rhino:js:jar</exclude>
                 <exclude>junit:junit:jar</exclude>
                 <exclude>log4j:log4j:jar</exclude>
		 <!-- need to fix this (sending version for exclusion) -->
		 <!-- servlet-api-2.3 must be included & following must be excluded -->
                 <exclude>org.mortbay.jetty:servlet-api-2.5:jar:6.0.1</exclude>
            </excludes>
        </dependencySet>
      </dependencySets>
</assembly>

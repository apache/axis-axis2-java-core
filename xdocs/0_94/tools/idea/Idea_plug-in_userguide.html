<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
      "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <meta content="text/html; charset=iso-8859-1">
  <title>How to use IDEA plug-in</title>
  <meta name="generator" content="amaya 9.2.1, see http://www.w3.org/Amaya/">
</head>

<body lang="en">
<h1>Code generation IDEA plug-in</h1>

<h2>Introduction</h2>

<p>This document explains installation and usage of IDEA code generation
plug-in.</p>

<h2>Installation</h2>

<p>First download the <a href="../../axis2tools.html">plug-in link</a> which
is a zipped file, and extract that into plugins directory in IDEA
installation directory or plugins directory in user directory
(usre/idea/conf/plugins). If you have correctly extracted the file you would
see a directory called Axis2 in which there should be only one directory
called lib containing a few of .jar files.</p>

<p>Next step is to restart IDEA so that the changes can take place. If the
plug-in has been installed correctly, when you restart IDEA you will see
following icons in IDEA .</p>

<p><img alt="Figure 1" src="images/idea-icons.jpg"></p>

<p>Also if you right-click on editor page of IDEA you would see a link for
the same plug-in.</p>

<p><img alt="Figure2" src="images/idea-popup.jpg"></p>

<p>When you click on either one of them a window will appear asking you to
select one of the following two options.</p>
<ol>
  <li><a href="#IDEA">Create a service archive</a></li>
  <li><a href="#WSDL2Java">WSDL2Java code generation</a></li>
</ol>

<p><img alt="Figure3" src="images/fig1.jpg"></p>

<h2><a name="WSDL2Java">WSDL2Java codegeneration</a></h2>

<p>Select WSDL2Java codegenaration and click OK to generate code from a WSDL
file. Then the following window will appear.</p>

<p><img alt="Figure4" src="images/fig2.jpg"></p>

<p>To move on to the next page the WSDL file location must be given. The
'browse' button can be used to easily browse for a file rather than typing
the whole path.</p>

<p>Once the WSDL file is selected, codegen options are to be selected. By far
this is the most important page in this wizard, which determines the
characteristics of the code being generated. Novices need not worry about
these options since the most common options are defaulted. Advanced users
will find it very easy to "turn the knobs" using these options.</p>

<p><img alt="Figure5" src="images/fig18.jpg"></p>

<p>Output language can be Java, C#. But we have not fully tested C#
codegenration therefore it is better to select Java as output language.</p>

<p>Since Axis2 supports both synchronous and asynchronous client programming
model, the tool has provided a way to select this option.</p>

<p><em></em>The default data binding type is adb (Axis2 data binding).
Although the tool is capable of providing XML beans, due to class loading
issues in XML beans current implementation only generate code with OM and
adb.</p>

<p>As for the package name of the generated code, you can set the name you
want.</p>

<p><img alt="Figure6" src="images/fig3.jpg"></p>

<p>You can simply browse and select the output location or the location in
which the code is to be generated. You do not need to type.</p>

<p><img alt="Fig4" src="images/fig4.jpg"></p>

<p>If everything has gone well you will see the above message.</p>

<h2><a name="IDEA">IDEA</a> service archive generation plug-in</h2>

<p>First step is to click on Axis2 IDEA plug-in icon and select 'create a
service archive' radio button.</p>

<p><img alt="Fig5" src="images/fig5.jpg"></p>

<p>Then a wizard below will appear asking to select archive type</p>

<p><img alt="fig6" src="images/fig6.jpg"></p>

<p>In Axis2 user can deploy single service or service group. Therefore you
can select either single service archive or sevice group archive for archive
type you want to create.</p>

<p>If you already have services.xml you can skip some of the steps in the
wizard by selecting 'I already have services.xml' and clicking on next. If
you do not have service.xml, select radio button 'Generate service.xml' and
click on next, the tool will create services.xml for you.</p>

<p>Depending on the options you selected on this wizard page there can be
three sub wizards:</p>
<ol>
  <li>Sub wizard 1 (Generate single service and its services.xml)</li>
  <li>Sub wizard 2 (Generate service group and its services.xml)</li>
  <li>Sub wizard 3 (Generate service/service group using already existing
    services.xml)</li>
</ol>

<p>1 &amp; 2 follow the same set of steps except some looping mechanism inthe
middle of the wizard.</p>

<h3>Sub wizard 1 &amp; Sub wizard 2</h3>

<p>From the following page you have to select the location of classes
directory, where you compile output location. You do not need to type it,
simply browse and select.</p>

<p><img alt="fig7" src="images/fig7.jpg"></p>

<p>When you click on next button, wizard will move to the page where you
select service specific external libraries and service WSDL file. In the case
of service group you can add any number of WSDL files depending on the
services in the service group. If you want to add multiple WSDL files to a
single service type you can do that as well. </p>

<p><img alt="fig8" src="images/fig8.jpg"></p>

<p>To Add libraries first click on small (...) button to browse for library
file and then click on Add button. Once added the selected file will appear
in the list box.</p>

<p>To add WSDLs first click on small (...) button to browse for WSDL file and
then click Add button to add the file to the list.</p>

<p><img alt="fig9" src="images/fig9.jpg"></p>

<p>Next page allows you to select service implementation class. In the case
of service group, same page will be looped to select multiple service
implementation classes.</p>

<p>The following steps achieves this task:</p>

<p>Step 1:</p>

<p>Select a service implementation class by browsing and click on Load button
to load all the public methods in that class, after which you can select the
methods that you want to publish using the check boxes.</p>

<p><img alt="fig10" src="images/fig10.jpg"></p>

<p>In service name text box you can type the name of the service you want,
but remember that service name should be <em>across</em> the system.</p>

<p>When you have completed this particular service click Done. In the case of
a service group when you click Done button on the particular service the
following dialog will appear with option of to adding some more service(s) to
service group.</p>

<p><img alt="fig11" src="images/fig11.jpg"></p>

<p>If you click Yes , you have to follow the same procedure to add some other
service(s) to service group.</p>

<p>If you click No, Next button will enable and you can go to next page.</p>

<p><a name="Note">Note</a>: From this point onwards the steps are similar to
all the sub wizards.</p>

<p><img alt="fig12" src="images/fig12.jpg"></p>

<p>This page displays the services.xml file, either the one given by you (in
the case of &#x201c;I already have services.xml&#x201d;) or the one generated
by the system (in the case of "generate services.xml")</p>

<p>This page is editable and provide a way to add parameters and module
references to any level.</p>

<p>Note : When you click on either +Parameter or +ModuleRef buttons remember
that corresponding texts will be added to the current mouse position.
Therefore click on the location you want to add the parameter<em> </em>or<em>
</em>module references and then click relevant button.</p>

<p>If you click on the +Parameter button a window will appear asking to give
parameter name and parameter value.</p>

<p><img alt="fig13" src="images/fig13.jpg"></p>

<p>Or you can manually add parameters to any where in the document as you
wish.</p>

<p>Like wise adding module references can be done by clicking on +ModuleRef
button in the page. You have to type the name of the module to be engaged as
in the following figure.</p>

<p><img alt="fig14" src="images/fig14.jpg"></p>

<p>When you complete this page press the Next button to go to final page.</p>

<p><img alt="fig15" src="images/fig15.jpg"></p>

<p>Next step is to select output location, the location in which archive file
should be created.</p>

<p>In the Archive Name, type the name of the archive file you want to place.
This name will finally become the service group name.</p>

<p>Note : Do not include file extension when you type archive name. System
will generate that for you.</p>

<p>When you are done, click the Finish button. If everything has been done
successfully you will see following message.</p>

<p><img alt="fig16" src="images/fig16.jpg"></p>

<h3>Sub wizard 3</h3>

<p>In the case where services.xml is already available, the steps are as
follows,</p>

<p><img alt="fig17" src="images/fig17.jpg"></p>

<p>This page allows you to select both location of services.xml and the
location of classes directory. Click select buttons and browse the file
system to find required document and location.</p>

<p>Click on Next button which will take you to a page which allows you to
edit services.xml in the same manner as described in <a href="#Note">edit
service descriptors</a> in sub wizards 1 &amp; 2.</p>
</body>
</html>
